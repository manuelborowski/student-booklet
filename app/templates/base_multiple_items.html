<!-- app/templates/base_multiple_items.html -->
{% extends "base.html" %}
{% import "bootstrap/utils.html" as utils %}
{% import "bootstrap/wtf.html" as wtf %}

{% block content2 %}
<div class="content-section">
  {{ utils.flashed_messages() }}
    <!-- begin message block -->
<div class="container flashed-messages">
  <div class="row">
    <div class="col-md-12" id="flash-list">
    </div>
  </div>
</div>
<!-- end message block -->
  <div class="center">
{% if filter %}
      <form method="post" enctype=multipart/form-data>
      <table class="table-condensed ">
          <tr>
{% if 'date' in filter %}
              <th>Datum</th>
{% endif %}
{% if 'teacher' in filter %}
              <th>Leerkracht</th>
{% endif %}
{% if 'classgroup' in filter %}
              <th>Klas</th>
{% endif %}
          </tr>
          <tr>
{% if 'date' in filter %}
              <td><input id="date_after" class="filter" name="date_after" type="text" size="12"></td>
{% endif %}
{% if 'teacher' in filter %}
              <td rowspan="2"  >{{ wtf.form_field(filter_form.teacher.teacher) }}</td>
{% endif %}
{% if 'classgroup' in filter %}
              <td rowspan="2"  >{{ wtf.form_field(filter_form.classgroup.classgroup) }}</td>
{% endif %}
          </tr>
          <tr>
{% if 'date' in filter %}
              <td><input id="date_before" class="filter" name="date_before" type="text" size="12"></td>
{% endif %}
          </tr>
      </table>

      <div class="btn-group" role="group" aria-label="...">
          <a class="btn btn-default" id="filter">Filter</a>
          <a class="btn btn-default" id="clear">Wissen</a>
          <br>
          <br>
      </div>

{% endif %}
      </form >
      <form method ="post" action="{{ url_for('offence.delete') }}">
      {% if current_user.is_admin %}
      <hr />
      <div class="btn-group" role="group" aria-label="...">
           <input class="btn btn-default" id="delete" name="delete" type="submit" value="Verwijder">
      </div>
      {% endif %}
      <table cellspacing="0" class="table table-striped table-bordered " id="datatable" width="100%">
          <thead><tr>
              {% for h in config.template %}
                {% if h.name=='cb' %}
                    <th><input type='checkbox' id="select_all"></th>
                {% else %}
                    <th>{{h.name}}</th>
                {% endif %}
              {% endfor %}
          </tr>
          </thead>
      </table>
      </form>
  </div>
</div>

<div id="menu">
    {% for i in config.floating_menu %}
        <a id="{{i['menu_id']}}" onclick="handle_floating_menu('{{i['menu_id']}}')">{{i['menu_text']}}</a>
    {% endfor %}
</div>
{% endblock %}


{% block scripts %}
{{ super() }}
<script type="text/javascript" > {% include "base_multiple_items.js" %}</script>
{% endblock %}
